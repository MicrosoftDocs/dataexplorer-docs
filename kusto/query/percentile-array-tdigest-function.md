---
title:  percentile_array_tdigest()
description: Learn how to use the percentile_array_tdigest() to calculate the percentile value of an expression.
ms.reviewer: alexans
ms.topic: reference
ms.date: 08/11/2024
---
# percentile_array_tdigest()

> [!INCLUDE [applies](../includes/applies-to-version/applies.md)] [!INCLUDE [fabric](../includes/applies-to-version/fabric.md)] [!INCLUDE [azure-data-explorer](../includes/applies-to-version/azure-data-explorer.md)] [!INCLUDE [monitor](../includes/applies-to-version/monitor.md)] [!INCLUDE [sentinel](../includes/applies-to-version/sentinel.md)]

Calculates the percentile result from the `tdigest` results (which was generated by [tdigest()](tdigest-aggregation-function.md) or [tdigest_merge()](tdigest-merge-aggregation-function.md))

## Syntax

`percentiles_array_tdigest(`*tdigest*`,` *percentile1* [`,` *percentile2*`,` ...]`)`

`percentiles_array_tdigest(`*tdigest*`,` *Dynamic array* [`,` *typeLiteral* ]`)`

[!INCLUDE [syntax-conventions-note](../includes/syntax-conventions-note.md)]

## Parameters

| Name | Type | Required | Description |
|--|--|--|--|
| *tdigest*| `string` |  :heavy_check_mark: | The [`tdigest`](tdigest-aggregation-function.md) or [tdigest_merge()](tdigest-merge-aggregation-function.md) results used to calculate the percentiles.|
| *percentile* | `real` |  :heavy_check_mark: | A value or comma-separated list of values that specifies the percentiles.|
| *Dynamic array*| `dynamic` |  :heavy_check_mark: | A dynamic array of real numbers that specify the percentiles.|
| *typeLiteral*| `string` | | A type literal. For example, `typeof(long)`. If provided, the result set is of this type.|

## Returns

The percentile/percentiles value of each value in *tdigest*.

>[!TIP]
>
>* The function must receive at least one percent (and maybe more, see the syntax above: *percentile1* [`,` *percentile2*] ...[`,` *percentileN*]) and the result will be
a dynamic array that includes the results. (such like [`percentiles()`](percentiles-aggregation-function.md))
>* If only one percent was provided, and the type was provided also, then the result will be a column of the same type provided with the results of that percent. In this case, all `tdigest` functions must be of that type.
>* If *tdigest* includes `tdigest` functions of different types, don't provide the type. The result will be of type dynamic. See below examples.

## Examples

:::moniker range="azure-data-explorer"
> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAA0WMuwoCMRBFe79iygRSxMLSTntxP2AZ12uImAeTWSHix5tmsblwuJwzaZF0fiNr232prSmxxA9I7zGg6RWNjhuYEycOuEipEO2Wbp0mZcUwq5QnFqXxLCMWX2gzi3CfN/lfdCScA4x3tPdjDt460l5RHiZmtfYHKGdLI5UAAAA=" target="_blank">Run the query</a>
::: moniker-end

```kusto
StormEvents
| summarize tdigestRes = tdigest(DamageProperty) by State
| project percentiles_array_tdigest(tdigestRes, range(0, 100, 50), typeof(int))
```

**Output**

|percentile_tdigest_tdigestRes|
|---|
|[0,0,0]|
|[0,0,62000000]|
|[0,0,110000000]|
|[0,0,1200000]|
|[0,0,250000]|
