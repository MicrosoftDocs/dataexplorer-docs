---
title:  percentrank_tdigest()
description: Learn how to use the percentrank_tdigest() function to calculate the approximate rank of the value in a set.
ms.reviewer: alexans
ms.topic: reference
ms.date: 08/11/2024
---
# percentrank_tdigest()

> [!INCLUDE [applies](../includes/applies-to-version/applies.md)] [!INCLUDE [fabric](../includes/applies-to-version/fabric.md)] [!INCLUDE [azure-data-explorer](../includes/applies-to-version/azure-data-explorer.md)] [!INCLUDE [monitor](../includes/applies-to-version/monitor.md)] [!INCLUDE [sentinel](../includes/applies-to-version/sentinel.md)]

Calculates the approximate rank of the value in a set, where rank is expressed as a percentage of the set's size.
This function can be viewed as the inverse of the percentile.

## Syntax

`percentrank_tdigest(`*digest*`,` *value*`)`

[!INCLUDE [syntax-conventions-note](../includes/syntax-conventions-note.md)]

## Parameters

|Name|Type|Required|Description|
|--|--|--|--|
|*digest*| `string` | :heavy_check_mark:| An expression that was generated by [tdigest()](tdigest-aggregation-function.md) or [tdigest_merge()](tdigest-merge-aggregation-function.md).|
|*value*|scalar| :heavy_check_mark:|An expression representing a value to be used for percentage ranking calculation.|

> [!NOTE]
> The type of *value* and the type of the elements in *digest* should be the same.

## Returns

The percentage rank of value in a dataset.

## Examples

Getting the percentrank_tdigest() of the damage property that valued 4490$ is ~85%:

:::moniker range="azure-data-explorer"
> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAAwsuyS/KdS1LzSsp5qpRKC7NzU0syqxKVShJyUxPLS4JSi1WsIVxNFwScxPTUwOK8gtSi0oqNYEaCorys1KTSxSAAslAM4oS87LjYaoRRugomJhYGmgCANhtajhsAAAA" target="_blank">Run the query</a>
::: moniker-end

```kusto
StormEvents
| summarize tdigestRes = tdigest(DamageProperty)
| project percentrank_tdigest(tdigestRes, 4490)
```

**Output**

|Column1|
|---|
|85.0015237192293|

Using percentile 85 over the damage property should give 4490$:

:::moniker range="azure-data-explorer"
> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAAwsuyS/KdS1LzSsp5qpRKC7NzU0syqxKVShJyUxPLS4JSi1WsIVxNFwScxPTUwOK8gtSi0oqNYEaCorys1KTSxSAAslAMzJzUuNhihEm6ChYmOoolFQWpOanaeTk56VragIAa7SLZXcAAAA=" target="_blank">Run the query</a>
::: moniker-end

```kusto
StormEvents
| summarize tdigestRes = tdigest(DamageProperty)
| project percentile_tdigest(tdigestRes, 85, typeof(long))
```

**Output**

|percentile_tdigest_tdigestRes|
|---|
|4490|
