---
title:  percentile_tdigest()
description: Learn how to use the percentile_tdigest() function to calculate the percentile value of an expression.
ms.reviewer: alexans
ms.topic: reference
ms.date: 08/11/2024
---
# percentile_tdigest()

> [!INCLUDE [applies](../includes/applies-to-version/applies.md)] [!INCLUDE [fabric](../includes/applies-to-version/fabric.md)] [!INCLUDE [azure-data-explorer](../includes/applies-to-version/azure-data-explorer.md)] [!INCLUDE [monitor](../includes/applies-to-version/monitor.md)] [!INCLUDE [sentinel](../includes/applies-to-version/sentinel.md)]

Calculates the percentile result from the `tdigest` results (which was generated by [tdigest()](tdigest-aggregation-function.md) or [tdigest_merge()](tdigest-merge-aggregation-function.md))

## Syntax

`percentile_tdigest(`*expr*`,` *percentile1* `,` *typeLiteral*`)`

[!INCLUDE [syntax-conventions-note](../includes/syntax-conventions-note.md)]

## Parameters

|Name|Type|Required|Description|
|--|--|--|--|
|*expr*| `string` | :heavy_check_mark:|An expression that was generated by [`tdigest`](tdigest-aggregation-function.md) or [tdigest_merge()](tdigest-merge-aggregation-function.md).|
|*percentile*| `long` | :heavy_check_mark:|The value that specifies the percentile.|
|*typeLiteral*| `string` ||A type literal. If provided, the result set will be of this type. For example, `typeof(long)` will cast all results to type `long`.

## Returns

The percentile value of each value in *expr*.

>[!TIP]
>
>* If the type was provided, the result will be a column of the same type provided with the results of the percentile. In this case, all `tdigest` functions must be of that type.
>* If *expr* includes `tdigest` functions of different types, don't provide the type. The result will be of type dynamic. See below examples.

## Examples

:::moniker range="azure-data-explorer"
> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAAwsuyS/KdS1LzSsp5qpRKC7NzU0syqxKVShJyUxPLS4JSi1WsIVxNFwScxPTUwOK8gtSi0oqNRWSKhWCSxJLUoE6C4rys1KTSxSAMslAwzJzUuNhuhBG6SgYGhhoAgDlVqxicwAAAA==" target="_blank">Run the query</a>
::: moniker-end

```kusto
StormEvents
| summarize tdigestRes = tdigest(DamageProperty) by State
| project percentile_tdigest(tdigestRes, 100)
```

**Output**

|percentile_tdigest_tdigestRes|
|---|
|0|
|62000000|
|110000000|
|1200000|
|250000|

:::moniker range="azure-data-explorer"
> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAA4XNsQrCQBAE0N6v2DIHFvED0plePHs5kyGsuHdhbxOI5OO9JlxpOTDzxltS6VdEy6ed8iISlL8gG3lCtjsydUdorkHChJumGWqbo9dG3oKhLJfIKVLjK0d/uT6ODxZUxxVo1vTGYFQuhsLwB8+jX5EzXdrW/QA/si5TvAAAAA==" target="_blank">Run the query</a>
::: moniker-end

```kusto
StormEvents
| summarize tdigestRes = tdigest(DamageProperty) by State
| union (StormEvents | summarize tdigestRes = tdigest(EndTime) by State)
| project percentile_tdigest(tdigestRes, 100)
```

**Output**

|percentile_tdigest_tdigestRes|
|---|
|[0]|
|[62000000]|
|["2007-12-20T11:30:00.0000000Z"]|
|["2007-12-31T23:59:00.0000000Z"]|
