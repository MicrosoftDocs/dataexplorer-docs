---
title:  geo_point_in_polygon()
description: Learn how to use the geo_point_in_polygon() function to check if the geospatial coordinates are inside a polygon or a multipolygon on Earth.
ms.reviewer: mbrichko
ms.topic: reference
ms.date: 04/04/2024
---
# geo_point_in_polygon()

Calculates whether the geospatial coordinates are inside a polygon or a multipolygon on Earth.

## Syntax

`geo_point_in_polygon(`*longitude*`,` *latitude*`,` *polygon*`)`

[!INCLUDE [syntax-conventions-note](../../includes/syntax-conventions-note.md)]

## Parameters

|Name|Type|Required|Description|
|--|--|--|--|
| *longitude* | `real` |  :heavy_check_mark: | Geospatial coordinate, longitude value in degrees. Valid value is a real number and in the range [-180, +180].|
| *latitude* | `real` |  :heavy_check_mark: | Geospatial coordinate, latitude value in degrees. Valid value is a real number and in the range [-90, +90].|
| *polygon* | `dynamic` |  :heavy_check_mark: | Polygon or multipolygon in the [GeoJSON format](https://tools.ietf.org/html/rfc7946).|

## Returns

Indicates whether the geospatial coordinates are inside a polygon. If the coordinates or polygon is invalid, the query produces a null result.

> [!NOTE]
>
> * The geospatial coordinates are interpreted as represented by the [WGS-84](https://earth-info.nga.mil/index.php?dir=wgs84&action=wgs84) coordinate reference system.
> * The [geodetic datum](https://en.wikipedia.org/wiki/Geodetic_datum) used for measurements on Earth is a sphere. Polygon edges are [geodesics](https://en.wikipedia.org/wiki/Geodesic) on the sphere.
> * If input polygon edges are straight cartesian lines, consider using [geo_polygon_densify()](geo-polygon-densify-function.md) to convert planar edges to geodesics.

**Polygon definition and constraints**

dynamic({"type": "Polygon","coordinates": [ LinearRingShell, LinearRingHole_1, ..., LinearRingHole_N ]})

dynamic({"type": "MultiPolygon","coordinates": [[LinearRingShell, LinearRingHole_1, ..., LinearRingHole_N ], ..., [LinearRingShell, LinearRingHole_1, ..., LinearRingHole_M]]})

* LinearRingShell is required and defined as a `counterclockwise` ordered array of coordinates [[lng_1,lat_1],...,[lng_i,lat_i],...,[lng_j,lat_j],...,[lng_1,lat_1]]. There can be only one shell.
* LinearRingHole is optional and defined as a `clockwise` ordered array of coordinates [[lng_1,lat_1],...,[lng_i,lat_i],...,[lng_j,lat_j],...,[lng_1,lat_1]]. There can be any number of interior rings and holes.
* LinearRing vertices must be distinct with at least three coordinates. The first coordinate must be equal to the last. At least four entries are required.
* Coordinates [longitude, latitude] must be valid. Longitude must be a real number in the range [-180, +180] and latitude must be a real number in the range [-90, +90].
* LinearRingShell encloses at most half of the sphere. LinearRing divides the sphere into two regions. The smaller of the two regions, is chosen.
* LinearRing edge length must be less than 180 degrees. The shortest edge between the two vertices is chosen.
* LinearRings must not cross and must not share edges. LinearRings might share vertices.
* Polygon doesn't necessarily contain its vertices. Point containment in polygon is defined so that if the Earth is subdivided into polygons, every point is contained by exactly one polygon.

> [!TIP]
>
> * Using literal Polygon or a MultiPolygon may result in better performance.
> * If you want to know if any of the polygons contains a point, try the following steps: Fold the collection of polygons into one multipolygon. Then query this multipolygon. This may improve performance. See the following example.

## Examples

The following example finds locations which fall within Manhattan island, excluding the area of Central Park.

:::image type="content" source="media/geo-point-in-polygon-function/polygon-manhattan-with-hole.png" alt-text="Screenshot of a map of the Manhattan area, with markers for a landmark, a museum, and an airport. The island appears dimmed except for Central Park.":::

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAA4VT0WrbQBB8z1cIvyQGN7nb273dzVsKpRRaKLRvIQQ1VhOBIxlZpg1t/70jy5abQogMNkZzs7Mzc8uyx+fbqjpbtc193W+X1WVXlatFsSr7f/8uq81dV6/7um0uN31XN/fzk+uTAs/w/uyNpnM3ycLzRcHhXNnYdFGcvntc111VfMGYqni7rVdLHD1dFMfn4qL40BSf29XTfdsU/1HmROx7SnUhAeXXh6r4VPVdu25XdV82xaftpto+Fu334qrrB+6RsvrZV13ddsOL9Uj/nN2UU9YDuybJYP9Yvt+W3bIui6u6W7cj4bPnZfabk9/Fj4cK+95X7e26rZv+tm5u96+PFh/dhbFPTflY3539mvVP62p2Ods7MVvM7toWQho4t5ldXl9f7xwhcY0Od2GNLaDc1Cha5Bg4S7xZjDDOHjkrmUSsNcAkZM/RMomovQxjQMRzNg9qeYfj8xBDsBzERUOKA04lejKBEHGfUJbBR+BQ1x0qsFiGQs9CLBOO4nAsB08qAy67e4geMSZhjYM6V6XMHJg8+8hnGIw5ZOp0gKkyZLk6O9EOFoMlAmXCr0+wQDlkCjHCwB2MPLAy9MGaCQWfNCbDl+0c0cQYaQwyyM1HNmeoE/i5Q7GgTJRUQ5SjvYSTUQb9tgtLFX4grZCTaJpgiREgS4p7MgsWIkOpRNIDihy3StKQ1B4GV+LgBx6RAywFVYSdphAs8CAOah3QaQHMdMNCnHFXRxxSijljCsZMMAQXkQ86NmaFM9EDCiKMvKaxRGYE2WhNpLFw8ALrwgHYfIAhPHXYGy2NfdOI9mH5jIuuE+y1lgM3AsWIOcF39Ga/bUByQtHVbEoV0hAOOmKkY38zcsFSmQzOTKEOGQeMTHB2hDFRHvhd0jGv4dLQsF30KQlGhzEGxZ4sfk3czc2f+fwvLfY7vIMFAAA=" target="_blank">Run the query</a>

```kusto
datatable(longitude:real, latitude:real, description:string)
[
    real(-73.985654), 40.748487, 'Empire State Building',           // In Polygon 
    real(-73.963249), 40.779525, 'The Metropolitan Museum of Art',  // In exterior of polygon
    real(-73.874367), 40.777356, 'LaGuardia Airport',               // In exterior of polygon
]
| where geo_point_in_polygon(longitude, latitude, dynamic({"type":"Polygon","coordinates":[[[-73.92597198486328,40.87821814104651],[-73.94691467285156,40.85069618625578],[-73.94691467285156,40.841865966890786],[-74.01008605957031,40.7519385984599],[-74.01866912841797,40.704586878965245],[-74.01214599609375,40.699901911003046],[-73.99772644042969,40.70875101828792],[-73.97747039794922,40.71083299030839],[-73.97026062011719,40.7290474687069],[-73.97506713867186,40.734510840309376],[-73.970947265625,40.74543623770158],[-73.94210815429688,40.77586181063573],[-73.9434814453125,40.78080140115127],[-73.92974853515625,40.79691751000055],[-73.93077850341797,40.804454347291006],[-73.93489837646484,40.80965166748853],[-73.93524169921875,40.837190668541105],[-73.92288208007812,40.85770758108904],[-73.9101791381836,40.871728144624974],[-73.92597198486328,40.87821814104651]],[[-73.95824432373047,40.80071852197889],[-73.98206233978271,40.76815921628347],[-73.97309303283691,40.76422632379533],[-73.94914627075195,40.796949998204596],[-73.95824432373047,40.80071852197889]]]}))
```

**Output**

|longitude|latitude|description|
|---|---|---|
|-73.985654|40.748487|Empire State Building|

The following example searches for coordinates in a multipolygon.

:::image type="content" source="media/geo-point-in-polygon-function/multipolygon-manhattan.png" alt-text="Screenshot of a map of the Manhattan area, with markers for the Upper West Side, Greenwich Village, and an airport. Three neighborhoods appear dimmed.":::

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=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" target="_blank">Run the query</a>

```kusto
let multipolygon = dynamic({"type":"MultiPolygon","coordinates":[[[[-73.991460000000131,40.731738000000206],[-73.992854491775518,40.730082566051351],[-73.996772,40.725432000000154],[-73.997634685522883,40.725786309886963],[-74.002855946639244,40.728346630056791],[-74.001413,40.731065000000207],[-73.996796995070824,40.73736378205173],[-73.991724524037934,40.735245208931886],[-73.990703782359589,40.734781896080477],[-73.991460000000131,40.731738000000206]]],[[[-73.958357552055688,40.800369095633819],[-73.98143901556422,40.768762584141953],[-73.981548752788598,40.7685590292784],[-73.981565335901905,40.768307084720796],[-73.981754418060945,40.768399727738668],[-73.982038573548124,40.768387823012056],[-73.982268248204349,40.768298621883247],[-73.982384797518051,40.768097213086911],[-73.982320919746599,40.767894461792181],[-73.982155532845766,40.767756204474757],[-73.98238873834039,40.767411004834273],[-73.993650353659021,40.772145571634361],[-73.99415893763998,40.772493009137818],[-73.993831082030937,40.772931787850908],[-73.993891252437052,40.772955194876722],[-73.993962585514595,40.772944653908901],[-73.99401262480508,40.772882846631894],[-73.994122058082397,40.77292405902601],[-73.994136652588594,40.772901870174394],[-73.994301342391154,40.772970028663913],[-73.994281535134448,40.77299380206933],[-73.994376552751078,40.77303955110149],[-73.994294029824005,40.773156243992048],[-73.995023275860802,40.773481196576356],[-73.99508939189289,40.773388475039134],[-73.995013963716758,40.773358035426909],[-73.995050284699261,40.773297153189958],[-73.996240651898916,40.773789791397689],[-73.996195837470992,40.773852356184044],[-73.996098807369748,40.773951805299085],[-73.996179459973888,40.773986954351571],[-73.996095245226442,40.774086186437756],[-73.995572265161172,40.773870731394297],[-73.994017424135961,40.77321375261053],[-73.993935876811335,40.773179512586211],[-73.993861942928888,40.773269531698837],[-73.993822393527211,40.773381758622882],[-73.993767019318497,40.773483981224835],[-73.993698463744295,40.773562141052594],[-73.993358326468751,40.773926888327956],[-73.992622663865575,40.774974056037109],[-73.992577842766124,40.774956016359418],[-73.992527743951555,40.775002110439829],[-73.992469745815342,40.775024159551755],[-73.992403837191887,40.775018140390664],[-73.99226708903538,40.775116033858794],[-73.99217809026365,40.775279293897171],[-73.992059084937338,40.775497598192516],[-73.992125372394938,40.775509075053385],[-73.992226867797001,40.775482211026116],[-73.992329346608813,40.775468900958522],[-73.992361756801131,40.775501899766638],[-73.992386042960277,40.775557180424634],[-73.992087684712729,40.775983970821372],[-73.990927174149746,40.777566878763238],[-73.99039616003671,40.777585065679204],[-73.989461267506471,40.778875124584417],[-73.989175778438053,40.779287524015778],[-73.988868617400072,40.779692922911607],[-73.988871874499793,40.779713738253008],[-73.989219022880576,40.779697895209402],[-73.98927785904425,40.779723439271038],[-73.989409054180143,40.779737706471963],[-73.989498614927044,40.779725044389757],[-73.989596493388234,40.779698146683387],[-73.989679812902509,40.779677568658038],[-73.989752702937935,40.779671244211556],[-73.989842247806507,40.779680752670664],[-73.990040102120489,40.779707677698219],[-73.990137977524839,40.779699769704784],[-73.99033584033225,40.779661794394983],[-73.990430598697046,40.779664973055503],[-73.990622199396725,40.779676064914298],[-73.990745069505479,40.779671328184051],[-73.990872114282197,40.779646007643876],[-73.990961672224358,40.779639683751753],[-73.991057472829539,40.779652352625774],[-73.991157429497036,40.779669775606465],[-73.991242817404469,40.779671367084504],[-73.991255318289745,40.779650782516491],[-73.991294887120119,40.779630209208889],[-73.991321967649895,40.779631796041372],[-73.991359455569423,40.779585883337383],[-73.991551059227476,40.779574821437407],[-73.99141982585985,40.779755280287233],[-73.988886144117032,40.779878898532999],[-73.988939656706265,40.779956178440393],[-73.988926103530844,40.780059292013632],[-73.988911680264692,40.780096037146606],[-73.988919261468567,40.780226094343945],[-73.988381050202634,40.780981074045783],[-73.988232413846987,40.781233144215555],[-73.988210420831663,40.781225482542055],[-73.988140000000143,40.781409000000224],[-73.988041288067166,40.781585961353777],[-73.98810029382463,40.781602878305286],[-73.988076449145055,40.781650935001608],[-73.988018059972219,40.781634188810422],[-73.987960792842145,40.781770987031535],[-73.985465811970457,40.785360700575431],[-73.986172704965611,40.786068452258647],[-73.986455862401996,40.785919219081421],[-73.987072345615601,40.785189638820121],[-73.98711901394276,40.785210319004058],[-73.986497781023601,40.785951202887254],[-73.986164628806279,40.786121882448327],[-73.986128422486075,40.786239001331111],[-73.986071135219746,40.786240706026611],[-73.986027274789123,40.786228964236727],[-73.986097637849426,40.78605822569795],[-73.985429321269592,40.785413942184597],[-73.985081137732209,40.785921935110366],[-73.985198833254501,40.785966552197777],[-73.985170502389906,40.78601333415817],[-73.985216218673656,40.786030501816427],[-73.98525509797993,40.785976205511588],[-73.98524273937646,40.785972572653328],[-73.98524962933017,40.785963139855845],[-73.985281779186749,40.785978620950075],[-73.985240032884533,40.786035858136792],[-73.985683885242182,40.786222123919686],[-73.985717529004575,40.786175994668795],[-73.985765660297687,40.786196274858618],[-73.985682871922691,40.786309786213067],[-73.985636270930442,40.786290150649279],[-73.985670722564691,40.786242911993817],[-73.98520511880038,40.786047669212785],[-73.985211035607492,40.786039554883686],[-73.985162639946992,40.786020999769754],[-73.985131636312062,40.786060297019972],[-73.985016964065125,40.78601423719563],[-73.984655078830457,40.786534741807841],[-73.985743787901043,40.786570082854738],[-73.98589227228328,40.786426529019593],[-73.985942854994988,40.786452847880334],[-73.985949561556794,40.78648711396653],[-73.985812373526713,40.786616865357047],[-73.985135209703174,40.78658761889551],[-73.984619428584324,40.786586016349787],[-73.981952458164173,40.790393724337193],[-73.972823037363767,40.803428052816756],[-73.971036786332192,40.805918478839672],[-73.966701,40.804169000000186],[-73.959647,40.801156000000113],[-73.958508540159471,40.800682279767472],[-73.95853274080838,40.800491362464697],[-73.958357552055688,40.800369095633819]]],[[[-73.943592454622546,40.782747908206574],[-73.943648235390199,40.782656161333449],[-73.943870759887162,40.781273026571704],[-73.94345932494096,40.780048275653243],[-73.943213862652243,40.779317588660199],[-73.943004239504688,40.779639495474292],[-73.942716005450905,40.779544169476175],[-73.942712374762181,40.779214856940001],[-73.942535563208608,40.779090956062532],[-73.942893408188027,40.778614093246276],[-73.942438481745029,40.777315235766039],[-73.942244919522594,40.777104088947254],[-73.942074188038887,40.776917846977142],[-73.942002667222781,40.776185317382648],[-73.942620205199006,40.775180871576474],[-73.94285645694552,40.774796600349191],[-73.94293043781397,40.774676268036011],[-73.945870899588215,40.771692257932997],[-73.946618690150586,40.77093339256956],[-73.948664164778933,40.768857624399587],[-73.950069793030679,40.767025088383498],[-73.954418260786071,40.762184104951245],[-73.95650786241211,40.760285256574043],[-73.958787773424007,40.758213471309809],[-73.973015157270069,40.764278692864671],[-73.955760332998182,40.787906554459667],[-73.944023,40.782960000000301],[-73.943592454622546,40.782747908206574]]]]});
let coordinates = 
    datatable(longitude:real, latitude:real, description:string)
    [
        real(-73.9741), 40.7914, 'Upper West Side',    // In MultiPolygon
        real(-73.9950), 40.7340, 'Greenwich Village',  // In MultiPolygon
        real(-73.8743), 40.7773, 'LaGuardia Airport',  // In exterior of MultiPolygon
    ];
coordinates
| where geo_point_in_polygon(longitude, latitude, multipolygon)
```

**Output**

|longitude|latitude|description|
|---|---|---|
|-73.9741|40.7914|Upper West Side|
|-73.995|40.734|Greenwich Village|

The following example finds storm events in California. The events are filtered by a California state polygon and aggregated by event type and hash.

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAA22WS2/cNhSF9/0Vglc2MFXI++AlU2RTIKt2UaDdBYExGau2mrE0mFGSuo//3kNqyEkdrzz+cHVIXZ5zqf2wdLvtfvx9Pk7jtnvT3T1N28dxd/331fJ0GK5eX/0y75/u5+lqc7Wb5+PdOG2X4XT1+t27d9974p6YScNGqHcu+BjebzKnni1G5cK9D4FX7nvH5hy471NSYlq5w9N42D/jPuG/wFE24noKoj49q+eIisSyrutjb14sZuyxLsUVWy8pxpQ2bD15lK849CpOWDeMX0Vv5dpHdSwb1j6Z03RWkT6wiKbMsbz/BksfTclXLOa8+ozNu+SockbLKGYuEp1LlXsOTgtnp8E1efRXVx1v4kPTEa8cqXAXhVu9skbD7rlPzN5Cq0+mHDIPyUK41JMk8pkrStp2jEyDZSzOuOGAU5aijhYlfUHFUZL4TReoxx4p6PN66k011CPJy5JLBXujpPWknNiqEkh8tHquHq7ImyS8NboUKicJKZTygBZzw1iVS3m04KnJMCWsnTcP72pMzTaGvWvmlCyqr9wil87gACI37/nI6gu3wJx85RScT0XdHHvRysWzSixcvESuHI8GKa2MglTFyjWEhOzgwJ0QdlZ5dOhJqU/F5jU7BEuvvvRoklnjFpPTzCkYNawaiUo5nIUYVQ5Tx1T8Jy4Fqwn0HA3JzBi+Sly5GEV7bm/wAFOUcrUkqg27FF1Rj7CtXcoxJ6TIIDqaLvWwtFszmGBjqTwmCY4yJwFugwVvCl9kLurofLR5EDn03BcOJ0gbUD7A3kU/wFFOK6eIKaOFm8RLPcJsaplbDiFVbj544TxafIKHWn1MIebUhp69Bmn6iZVyHgLWRf8aR1c05w0cFm3q0Xil0bFLTT3BpyuHX7l2mTAhFE4qHIuezzaPacaki3kuYuxR7T7BAeYTlXkp6E5s3DnLYxeRCXkaVY43hMEyV3Jq9C230r+2LqK96vyfiwvE6/xWJ01GELO8HWCcabzIwyLEWSax53oomB0IXCo8JsZJV57Y1JVbA0MqUXstTMZs5RxVlXOgKQ+DVIKLqKoPSpVjrEYpMohknaTggkSXzYcU22Eh3Wyei0yCF7nikPODl0qYpBh6TSVmA2vmjIvT+SZTLsDMVQmDptXjzinlsWxrxflSQItDvjlx+PBc5Tg4dYUjVq3HOfTOUsxcGOa56Chu8pR5jifbc31ECSOzvu2lHlESdx5qwC5onuDAIuTCRV4sDyPJicF+2jZJYWQpPPrAbZuEaxK3Z/ngcFbHywsfIu/f/3vzw3e/LvPx8e3nYVpO3/3THY7zH8Nu6X4c7sfp53nanH9tl01Xin7DRw/qvjwMx6G7H+bbwzxOy+044Uf5Drp+6dHLF9QNHj59enzcHse/hm43f5qW65vuw9NFfdM9bE8P+NK6qC/z7Yl2w37/orjdfLXx/NBam5/aQfO43a8y11n3ZvP1SmX9Wzx+HKa74dgdxmH3sD0u3ZdxeeiuP47T3ZvH7eGme/Wqw99z2Tjdd9vP23G//bAfunHqfvp0Wubu7Z+H/XyEyt1w+rjMh/8AiuopHzsKAAA=" target="_blank">Run the query</a>

```kusto
let california = dynamic({"type":"Polygon","coordinates":[[[-123.233256,42.006186],[-122.378853,42.011663],[-121.037003,41.995232],[-120.001861,41.995232],[-119.996384,40.264519],[-120.001861,38.999346],[-118.71478,38.101128],[-117.498899,37.21934],[-116.540435,36.501861],[-115.85034,35.970598],[-114.634459,35.00118],[-114.634459,34.87521],[-114.470151,34.710902],[-114.333228,34.448009],[-114.136058,34.305608],[-114.256551,34.174162],[-114.415382,34.108438],[-114.535874,33.933176],[-114.497536,33.697668],[-114.524921,33.54979],[-114.727567,33.40739],[-114.661844,33.034958],[-114.524921,33.029481],[-114.470151,32.843265],[-114.524921,32.755634],[-114.72209,32.717295],[-116.04751,32.624187],[-117.126467,32.536556],[-117.24696,32.668003],[-117.252437,32.876127],[-117.329114,33.122589],[-117.471515,33.297851],[-117.7837,33.538836],[-118.183517,33.763391],[-118.260194,33.703145],[-118.413548,33.741483],[-118.391641,33.840068],[-118.566903,34.042715],[-118.802411,33.998899],[-119.218659,34.146777],[-119.278905,34.26727],[-119.558229,34.415147],[-119.875891,34.40967],[-120.138784,34.475393],[-120.472878,34.448009],[-120.64814,34.579455],[-120.609801,34.858779],[-120.670048,34.902595],[-120.631709,35.099764],[-120.894602,35.247642],[-120.905556,35.450289],[-121.004141,35.461243],[-121.168449,35.636505],[-121.283465,35.674843],[-121.332757,35.784382],[-121.716143,36.195153],[-121.896882,36.315645],[-121.935221,36.638785],[-121.858544,36.6114],[-121.787344,36.803093],[-121.929744,36.978355],[-122.105006,36.956447],[-122.335038,37.115279],[-122.417192,37.241248],[-122.400761,37.361741],[-122.515777,37.520572],[-122.515777,37.783465],[-122.329561,37.783465],[-122.406238,38.15042],[-122.488392,38.112082],[-122.504823,37.931343],[-122.701993,37.893004],[-122.937501,38.029928],[-122.97584,38.265436],[-123.129194,38.451652],[-123.331841,38.566668],[-123.44138,38.698114],[-123.737134,38.95553],[-123.687842,39.032208],[-123.824765,39.366301],[-123.764519,39.552517],[-123.85215,39.831841],[-124.109566,40.105688],[-124.361506,40.259042],[-124.410798,40.439781],[-124.158859,40.877937],[-124.109566,41.025814],[-124.158859,41.14083],[-124.065751,41.442061],[-124.147905,41.715908],[-124.257444,41.781632],[-124.213628,42.000709],[-123.233256,42.006186]]]});
StormEvents
| project BeginLon, BeginLat, EventType
| where geo_point_in_polygon(BeginLon, BeginLat, california)
| summarize count() by EventType, hash = geo_point_to_s2cell(BeginLon, BeginLat, 7)
| project geo_s2cell_to_central_point(hash), EventType, count_
| render piechart with (kind=map) // map rendering available in Kusto Explorer desktop
```

**Output**

:::image type="content" source="media/geo-point-in-polygon-function/california-storm-events.png" alt-text="Screenshot of storm events in California rendered on a map by event type as pie chart indicators.":::

The following example shows how to classify coordinates to polygons using the [partition](./partition-operator.md) operator.

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAA51U22rbQBB991csepJAUfZ+cckfhBIIFIoxZiMtjhJFK6RNXTfJv3dkXezUpC2xwdZoztzOmd3KBXTjq/3W1x26QoUN8L2rXFy4Lm/LJpS+XqIutGW9TVEzIJeo2Nf2qcyTBYLPCqHDf/TV7dB33z6ivAx7ZFtno3SCxi9R2DcuWqJorAe+KPe+LcraBteBZ7VaXSiWaYGxUVJIKlLEMdiKc2UIw4xQsk4RoHhGJOaScCqUJhOQU4O5VooaqeQMNFgqpukME8YwIbFWRgqiBxhUZfCGCE37KgNQEoihlFMqBCEz8O/trddvSTrwcetsCJX7JBNQOqNQiirFOFN9MZVJqMYwJYRBq+rQUo/jwhAsORdj7x8DlRBamCkdl9pwIEtJRbnmM4woSbEGDwYoH6CKSkm11JIwTmfkvzo8oePaduib29ruE1wQnpkUMZmxQVdCRMa50RTmJoMUvZNR0Bl0ZKCH+hAoYFOAKi4wpwSGGoFQghsDSiui1YAzmDJjwCKcSSKOwKmXYbz1l0UFB+na57Y/MO9PUuXrbRmeC7dEsAdViioAHe3xDB1+ezvud8yIJB0sWDDVG5eX6NY/ud29ax0qazSdtZO4Xg42x4ES8HwWN+7kaRgwRPQUB2MRmZzHzeL1w043xuIVNa1/cHmYroYb28JwwAFQEPxwb8SNzR/j6ORG6RfgaIHizSz++JQkfe452X1Zh+wJFqItbVX+csVVaJ/d8BqKgGO7v4KFKX84dLc/a+Yw7Qsa76lZpoP1itzP4OritCNoHmp3bvPQ+TqGOXJb2Tb+M22SZCdB77ON2P/PNL4aswy8b53fNB6G3JT1ZgQc9+m4SUfaxvBRlQu7szMbB9fbb4lZo3bxBQAA" target="_blank">Run the query</a>

```kusto
let Polygons = datatable(description:string, polygon:dynamic)
    [  
      "New York city area", dynamic({"type":"Polygon","coordinates":[[[-73.85009765625,40.85744791303121],[-74.16046142578125,40.84290487729676],[-74.190673828125,40.59935608796518],[-73.83087158203125,40.61812224225511],[-73.85009765625,40.85744791303121]]]}),
      "Seattle area",       dynamic({"type":"Polygon","coordinates":[[[-122.200927734375,47.68573021131587],[-122.4591064453125,47.68573021131587],[-122.4755859375,47.468949677672484],[-122.17620849609374,47.47266286861342],[-122.200927734375,47.68573021131587]]]}),
      "Las Vegas",          dynamic({"type":"Polygon","coordinates":[[[-114.9,36.36],[-115.4498291015625,36.33282808737917],[-115.4498291015625,35.84453450421662],[-114.949951171875,35.902399875143615],[-114.9,36.36]]]}),
    ];
let Locations = datatable(longitude:real, latitude:real)
    [
      real(-73.95),  real(40.75), // Somewhere in New York
      real(-122.3),  real(47.6),  // Somewhere in Seattle
      real(-115.18), real(36.16)  // Somewhere in Las Vegas
    ];
Polygons
| project polygonPartition = tostring(pack("description", description, "polygon", polygon))
| partition hint.materialized=true hint.strategy=native by polygonPartition
{   
     Locations
     | extend description = parse_json(toscalar(polygonPartition)).description
     | extend polygon = parse_json(toscalar(polygonPartition)).polygon
     | where geo_point_in_polygon(longitude, latitude, polygon)
     | project-away polygon
}
```

**Output**

|longitude|latitude|description|
|---|---|---|
|-73.95|40.75|New York city area|
|-122.3|47.6|Seattle area|
|-115.18|36.16|Las Vegas|

See also [geo_polygon_to_s2cells()](geo-polygon-to-s2cells-function.md).

The following example folds several polygons into one multipolygon and checks locations that fall within the multipolygon.

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=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" target="_blank">Run the query</a>

```kusto
let Polygons = 
    datatable(polygon:dynamic)
    [
        dynamic({"type":"Polygon","coordinates":[[[-73.991460000000131,40.731738000000206],[-73.992854491775518,40.730082566051351],[-73.996772,40.725432000000154],[-73.997634685522883,40.725786309886963],[-74.002855946639244,40.728346630056791],[-74.001413,40.731065000000207],[-73.996796995070824,40.73736378205173],[-73.991724524037934,40.735245208931886],[-73.990703782359589,40.734781896080477],[-73.991460000000131,40.731738000000206]]]}),
        dynamic({"type":"Polygon","coordinates":[[[-73.958357552055688,40.800369095633819],[-73.98143901556422,40.768762584141953],[-73.981548752788598,40.7685590292784],[-73.981565335901905,40.768307084720796],[-73.981754418060945,40.768399727738668],[-73.982038573548124,40.768387823012056],[-73.982268248204349,40.768298621883247],[-73.982384797518051,40.768097213086911],[-73.982320919746599,40.767894461792181],[-73.982155532845766,40.767756204474757],[-73.98238873834039,40.767411004834273],[-73.993650353659021,40.772145571634361],[-73.99415893763998,40.772493009137818],[-73.993831082030937,40.772931787850908],[-73.993891252437052,40.772955194876722],[-73.993962585514595,40.772944653908901],[-73.99401262480508,40.772882846631894],[-73.994122058082397,40.77292405902601],[-73.994136652588594,40.772901870174394],[-73.994301342391154,40.772970028663913],[-73.994281535134448,40.77299380206933],[-73.994376552751078,40.77303955110149],[-73.994294029824005,40.773156243992048],[-73.995023275860802,40.773481196576356],[-73.99508939189289,40.773388475039134],[-73.995013963716758,40.773358035426909],[-73.995050284699261,40.773297153189958],[-73.996240651898916,40.773789791397689],[-73.996195837470992,40.773852356184044],[-73.996098807369748,40.773951805299085],[-73.996179459973888,40.773986954351571],[-73.996095245226442,40.774086186437756],[-73.995572265161172,40.773870731394297],[-73.994017424135961,40.77321375261053],[-73.993935876811335,40.773179512586211],[-73.993861942928888,40.773269531698837],[-73.993822393527211,40.773381758622882],[-73.993767019318497,40.773483981224835],[-73.993698463744295,40.773562141052594],[-73.993358326468751,40.773926888327956],[-73.992622663865575,40.774974056037109],[-73.992577842766124,40.774956016359418],[-73.992527743951555,40.775002110439829],[-73.992469745815342,40.775024159551755],[-73.992403837191887,40.775018140390664],[-73.99226708903538,40.775116033858794],[-73.99217809026365,40.775279293897171],[-73.992059084937338,40.775497598192516],[-73.992125372394938,40.775509075053385],[-73.992226867797001,40.775482211026116],[-73.992329346608813,40.775468900958522],[-73.992361756801131,40.775501899766638],[-73.992386042960277,40.775557180424634],[-73.992087684712729,40.775983970821372],[-73.990927174149746,40.777566878763238],[-73.99039616003671,40.777585065679204],[-73.989461267506471,40.778875124584417],[-73.989175778438053,40.779287524015778],[-73.988868617400072,40.779692922911607],[-73.988871874499793,40.779713738253008],[-73.989219022880576,40.779697895209402],[-73.98927785904425,40.779723439271038],[-73.989409054180143,40.779737706471963],[-73.989498614927044,40.779725044389757],[-73.989596493388234,40.779698146683387],[-73.989679812902509,40.779677568658038],[-73.989752702937935,40.779671244211556],[-73.989842247806507,40.779680752670664],[-73.990040102120489,40.779707677698219],[-73.990137977524839,40.779699769704784],[-73.99033584033225,40.779661794394983],[-73.990430598697046,40.779664973055503],[-73.990622199396725,40.779676064914298],[-73.990745069505479,40.779671328184051],[-73.990872114282197,40.779646007643876],[-73.990961672224358,40.779639683751753],[-73.991057472829539,40.779652352625774],[-73.991157429497036,40.779669775606465],[-73.991242817404469,40.779671367084504],[-73.991255318289745,40.779650782516491],[-73.991294887120119,40.779630209208889],[-73.991321967649895,40.779631796041372],[-73.991359455569423,40.779585883337383],[-73.991551059227476,40.779574821437407],[-73.99141982585985,40.779755280287233],[-73.988886144117032,40.779878898532999],[-73.988939656706265,40.779956178440393],[-73.988926103530844,40.780059292013632],[-73.988911680264692,40.780096037146606],[-73.988919261468567,40.780226094343945],[-73.988381050202634,40.780981074045783],[-73.988232413846987,40.781233144215555],[-73.988210420831663,40.781225482542055],[-73.988140000000143,40.781409000000224],[-73.988041288067166,40.781585961353777],[-73.98810029382463,40.781602878305286],[-73.988076449145055,40.781650935001608],[-73.988018059972219,40.781634188810422],[-73.987960792842145,40.781770987031535],[-73.985465811970457,40.785360700575431],[-73.986172704965611,40.786068452258647],[-73.986455862401996,40.785919219081421],[-73.987072345615601,40.785189638820121],[-73.98711901394276,40.785210319004058],[-73.986497781023601,40.785951202887254],[-73.986164628806279,40.786121882448327],[-73.986128422486075,40.786239001331111],[-73.986071135219746,40.786240706026611],[-73.986027274789123,40.786228964236727],[-73.986097637849426,40.78605822569795],[-73.985429321269592,40.785413942184597],[-73.985081137732209,40.785921935110366],[-73.985198833254501,40.785966552197777],[-73.985170502389906,40.78601333415817],[-73.985216218673656,40.786030501816427],[-73.98525509797993,40.785976205511588],[-73.98524273937646,40.785972572653328],[-73.98524962933017,40.785963139855845],[-73.985281779186749,40.785978620950075],[-73.985240032884533,40.786035858136792],[-73.985683885242182,40.786222123919686],[-73.985717529004575,40.786175994668795],[-73.985765660297687,40.786196274858618],[-73.985682871922691,40.786309786213067],[-73.985636270930442,40.786290150649279],[-73.985670722564691,40.786242911993817],[-73.98520511880038,40.786047669212785],[-73.985211035607492,40.786039554883686],[-73.985162639946992,40.786020999769754],[-73.985131636312062,40.786060297019972],[-73.985016964065125,40.78601423719563],[-73.984655078830457,40.786534741807841],[-73.985743787901043,40.786570082854738],[-73.98589227228328,40.786426529019593],[-73.985942854994988,40.786452847880334],[-73.985949561556794,40.78648711396653],[-73.985812373526713,40.786616865357047],[-73.985135209703174,40.78658761889551],[-73.984619428584324,40.786586016349787],[-73.981952458164173,40.790393724337193],[-73.972823037363767,40.803428052816756],[-73.971036786332192,40.805918478839672],[-73.966701,40.804169000000186],[-73.959647,40.801156000000113],[-73.958508540159471,40.800682279767472],[-73.95853274080838,40.800491362464697],[-73.958357552055688,40.800369095633819]]]}),
        dynamic({"type":"Polygon","coordinates":[[[-73.943592454622546,40.782747908206574],[-73.943648235390199,40.782656161333449],[-73.943870759887162,40.781273026571704],[-73.94345932494096,40.780048275653243],[-73.943213862652243,40.779317588660199],[-73.943004239504688,40.779639495474292],[-73.942716005450905,40.779544169476175],[-73.942712374762181,40.779214856940001],[-73.942535563208608,40.779090956062532],[-73.942893408188027,40.778614093246276],[-73.942438481745029,40.777315235766039],[-73.942244919522594,40.777104088947254],[-73.942074188038887,40.776917846977142],[-73.942002667222781,40.776185317382648],[-73.942620205199006,40.775180871576474],[-73.94285645694552,40.774796600349191],[-73.94293043781397,40.774676268036011],[-73.945870899588215,40.771692257932997],[-73.946618690150586,40.77093339256956],[-73.948664164778933,40.768857624399587],[-73.950069793030679,40.767025088383498],[-73.954418260786071,40.762184104951245],[-73.95650786241211,40.760285256574043],[-73.958787773424007,40.758213471309809],[-73.973015157270069,40.764278692864671],[-73.955760332998182,40.787906554459667],[-73.944023,40.782960000000301],[-73.943592454622546,40.782747908206574]]]}),
    ];
let Coordinates = 
    datatable(longitude:real, latitude:real, description:string)
    [
        real(-73.9741), 40.7914, 'Upper West Side',
        real(-73.9950), 40.7340, 'Greenwich Village',
        real(-73.8743), 40.7773, 'LaGuardia Airport',
    ];
let multipolygon = toscalar(
    Polygons
    | project individual_polygon = pack_array(polygon.coordinates)
    | summarize multipolygon_coordinates = make_list(individual_polygon)
    | project multipolygon = bag_pack("type","MultiPolygon", "coordinates", multipolygon_coordinates));
Coordinates
| where geo_point_in_polygon(longitude, latitude, multipolygon)
```

**Output**

|longitude|latitude|description|
|---|---|---|
|-73.9741|40.7914|Upper West Side|
|-73.995|40.734|Greenwich Village|

The following example returns a null result because of the invalid coordinate input.

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAAysoyswrUcjMiy%2FIz6lMz89TsFVIT80H8oDC8QhhDSMDAx1DnZTKvMTczGSNaqWSyoJUJSsFpQCIvJKOUnJ%2BflFKZl5iSWoxUCI6OtpAxyBWJ9oQqA9GAymQYGxsraYmAJZ3JaV5AAAA" target="_blank">Run the query</a>

```kusto
print in_polygon = geo_point_in_polygon(200,1,dynamic({"type": "Polygon","coordinates": [[[0,0],[10,10],[10,1],[0,0]]]}))
```

**Output**

| in_polygon |
|------------|
|            |

The following example returns a null result because of the invalid polygon input.

> [!div class="nextstepaction"]
> <a href="https://dataexplorer.azure.com/clusters/help/databases/Samples?query=H4sIAAAAAAAAAysoyswrUcjMiy%2FIz6lMz89TsFVIT80H8oDC8QhhDUMdQ52UyrzE3MxkjWqlksqCVCUrBaUAiKySjlJyfn5RSmZeYklqMVAiOjraQMcgVifa0EDHEJkGicbG1mpqAgD1Iu1ceAAAAA%3D%3D" target="_blank">Run the query</a>

```kusto
print in_polygon = geo_point_in_polygon(1,1,dynamic({"type": "Polygon","coordinates": [[[0,0],[10,10],[10,10],[0,0]]]}))
```

**Output**

| in_polygon |
|------------|
|            |
